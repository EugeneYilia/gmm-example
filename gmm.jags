model {
    theta[1:3] ~ ddirch( ones )
    for ( i in 1:3 ) {
      phi[i] ~ dnorm( 0 , 1 )
    }
    for( i in 1 : N ) {
      y[i] ~ dnorm( mu[i] , 1 ) 
      mu[i] <- phi[ z[i] ]
      z[i] ~ dcat( theta[1:3] )
    }
}
